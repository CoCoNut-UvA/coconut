start phase main {
    info = "Hahhaah"
    prefix = PDF

    actions {
        trav;
        change;
        trav;
        pass p;
        again;
    }
};

cycle again {
    info = "We do it again"
    prefix = AG

    actions {
        change;
        trav;
    }
};

traversal change {
    info = "I change the tree"
    prefix = CHG

    travdata = {
        int value
    }
};

traversal trav {
    info = "I am traversing everything"
    prefix = TV

    travdata = {
        int value
    }
};

nodeset Constants {
    nodes = {Num}
};

nodeset Expr {
    nodes = Constants | { BinOp }
};

root node BinOp {
    info = "A binary operation"

    children {
        Expr left { constructor };
        Expr right { constructor };
    }
};

node Num {
    info = "The num node"

    attributes {
        int value {constructor};
    }
};

enum BinaryOperation {
    prefix = BO
    values = {
        add, neg, mult
    }
};